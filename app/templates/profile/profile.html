{% extends 'base.html' %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{url_for('static', filename='css/profile.css')}}">
<script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
<link rel="apple-touch-icon" sizes="180x180" href="../static/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../static/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../static/favicon-16x16.png">
<link rel="manifest" href="../static/site.webmanifest">
{% endblock %}

{% block content %}
<div class="container profile">
   <!--Display profile photo-->
   <div class="img-container">
    {% if user.profile_pic_path %}
    <img src="{{url_for('static', filename=user.profile_pic_path)}}" alt="" class="img-thumbnail">
    {% else %}
    <img src="../../static/images/profilepic.webp" alt="" class="img-thumbnail">
    {% endif %}
  </div>
  <div class="row">
    <h3 class="text-center"> {{ user.username | capitalize }} </h3>
    <!--Displaying Username-->
    <div class="container align-center">
      <!--Displaying user bio -->
      <p class="text-center">Bio</p>
      <div class="bio text-center">
        {% if user.bio %}
        <p> {{user.bio}} </p>
        {% else %}
        <p> {{user.username | capitalize }} has no bio </p>
        {% endif %}
      </div>
    </div>
  </div>
  <div>
    {% if user == current_user %}
    <div class="form">
      <h5>Edit Profile</h5>
      <form action="{{url_for('main.update_pic', uname=user.username)}}" method="post" enctype="multipart/form-data">
        <div class="mb-3">
          <label class="form-label">Upload Profile Picture</label>
          <input type="file" name="photo" class="form-control">
        </div>
        <div class="row center-row justify-content-center">
          <div class="col-md-6 col-sm-6 text-center">
            <input type="submit" class="btn btn-success btn-xl text-uppercase button-row">
          </div>
          <div class="col-md-6 col-sm-6 text-center">
            <a class="btn btn1-color btn-xl text-uppercase button-row"
              href="{{url_for('main.update_profile', uname=user.username)}}">
              Edit Profile
            </a>
        </div>
      </form>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}